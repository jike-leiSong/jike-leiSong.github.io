<!DOCTYPE html>
<html>
  <head>
      
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>itme.ink</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="Ê∏©ÊïÖËÄåÁü•Êñ∞"/>
<meta name="keywords" content="Ê∏©ÊïÖËÄåÁü•Êñ∞"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://jike-leisong.github.io//favicon.ico">

<link rel="stylesheet" href="https://jike-leisong.github.io//styles/main.css">

<!-- Modernizr JS -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://jike-leisong.github.io//media/scripts/_vendors/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/tomorrow-night.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<link crossorigin="anonymous" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" href="https://lib.baomitu.com/font-awesome/5.8.1/css/all.min.css" rel="stylesheet">

  </head>
  <body>
  
<div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://jike-leisong.github.io//media/images/avatar.png" alt="itme.ink" class="img-responsive">
        </figure>
        <h3 class="heading">ABOUT ME</h3>
        <h2>itme.ink</h2>
        <p>Ê∏©ÊïÖËÄåÁü•Êñ∞</p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">
        <div class="fh5co-box">
            <h3 class="heading">ÊêúÁ¥¢</h3>
            <form action="#">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="ËæìÂÖ•ÂÖ≥ÈîÆÂ≠ó">
                </div>
            </form>
        </div>
        <div class="fh5co-box">
            <h3 class="heading">Ê†áÁ≠æ</h3>
            <ul>
                
                    <li><a href="https://jike-leisong.github.io//tag/0WBzoU1G-">Mybatis</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/tomact">Tomact</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/JUSmlN723">Git</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/netty">Netty</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/MzKEL8HsE">Spring</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/boot">Boot</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/java">Java</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/duo-xian-cheng">Â§öÁ∫øÁ®ã</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/mian-shi-ti">Èù¢ËØïÈ¢ò</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/shu-ju-yuan">Êï∞ÊçÆÊ∫ê</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/sql">SQL</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/mabatis">Mabatis</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/cloud">Cloud</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/zookeeper">Zookeeper</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/sOMy5ZlVw">ÂàÜÂ∏ÉÂºè</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/session">Session</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/cron">Cron</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/linux">Linux</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/redis">Redis</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/soa">SOA</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/-kxmq3hFX">MQTT</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/hrpV8XEHZ">JVM</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/ZMreOtewG">MVC</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/2RK0lyPtw">DB</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/hJqNul-if">Spring Cloud</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/yYzItG4Us">ËÆæËÆ°Ê®°Âºè</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/2VvjfMCS1">Ê∫êÁ†ÅÂàÜÊûê</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/xiao-xi">Ê∂àÊÅØ</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/tool">Tool</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/suan-fa">ÁÆóÊ≥ï</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/kua-yu">Ë∑®Âüü</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/xing-neng-diao-you">ÊÄßËÉΩË∞É‰ºò</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/shu-ju-ku">Êï∞ÊçÆÂ∫ì</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/lei-jia-zai">Á±ªÂä†ËΩΩ</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/jia-gou">Êû∂ÊûÑ</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/fen-bu-shi-shi-wu">ÂàÜÂ∏ÉÂºè‰∫ãÂä°</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/hashmap">HashMap</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/huan-cun">ÁºìÂ≠ò</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/mi-deng-xing">ÂπÇÁ≠âÊÄß</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                         >
                            È¶ñÈ°µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                         >
                            ÂΩíÊ°£
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                         >
                            Ê†áÁ≠æ
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                         >
                            ÂÖ≥‰∫é
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://jike-leisong.github.io/">itme.ink</a>
                </h1>
            </div>
        </div>
    </div>
</header>


<!--  <a href="#" class="fh5co-post-prev"><span>üëà Prev</span></a>-->
<!--  <a href="#" class="fh5co-post-next"><span>Next üëâ</span></a>-->

  <div class="container-fluid">
      <div class="row fh5co-post-entry single-entry">
          <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
              <figure class="animate-box">
                  
              </figure>
              <span class="fh5co-meta animate-box">
                  
                      <div class="tag-container">
                          
                              <a href="https://jike-leisong.github.io//tag/mian-shi-ti" class="tag">Èù¢ËØïÈ¢ò, </a>
                          
                              <a href="https://jike-leisong.github.io//tag/duo-xian-cheng" class="tag">Â§öÁ∫øÁ®ã, </a>
                          
                      </div>
                  
              </span>
              <h2 class="fh5co-article-title animate-box">JavaÂ§öÁ∫øÁ®ãExecutorÊ°ÜÊû∂ËØ¶Ëß£</h2>
              <span class="fh5co-meta fh5co-date animate-box">2017-12-18</span>

              <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                  <div class="row">
                      <div class="col-md-12 animate-box post-content">
                          <p> <p>Âú®Java‰∏≠Ôºå<font color="red">‰ΩøÁî®Á∫øÁ®ãÊù•ÂºÇÊ≠•ÊâßË°å‰ªªÂä°„ÄÇ</font>JavaÁ∫øÁ®ãÁöÑÂàõÂª∫‰∏éÈîÄÊØÅÈúÄË¶Å‰∏ÄÂÆöÁöÑÂºÄÈîÄÔºåÂ¶ÇÊûúÊàë‰ª¨‰∏∫ÊØè‰∏Ä‰∏™‰ªªÂä°ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÊù•ÊâßË°åÔºåËøô‰∫õÁ∫øÁ®ãÁöÑÂàõÂª∫‰∏éÈîÄÊØÅÂ∞Ü<font color="red">Ê∂àËÄóÂ§ßÈáèÁöÑËÆ°ÁÆóÊú∫ËµÑÊ∫ê„ÄÇ</font>ÂêåÊó∂Ôºå‰∏∫ÊØè‰∏Ä‰∏™‰ªªÂä°ÂàõÂª∫‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÊù•ÊâßË°åÔºåËøôÁßçÁ≠ñÁï•ÂèØËÉΩ‰ºö‰ΩøÂ§Ñ‰∫éÈ´òË¥üËç∑Áä∂ÊÄÅÁöÑÂ∫îÁî®ÊúÄÁªàÂ¥©Ê∫É„ÄÇ</p>
<p>JavaÁ∫øÁ®ãÊó¢ÊòØÂ∑•‰ΩúÂçïÂÖÉÔºå‰πüÊòØÊâßË°åÂçïÂÖÉ„ÄÇ‰ªéJdk1.5ÂºÄÂßãÔºåÊää<font color="red">Â∑•‰ΩúÂçïÂÖÉ</font>Âíå<font color="red">ÊâßË°åÊú∫Âà∂</font>ÂàÜÁ¶ªÂºÄÊù•„ÄÇ<br>
Â∑•‰ΩúÂçïÂÖÉÂåÖÊã¨Ôºö<font color="red">Runnable Âíå Callable</font>ÔºåËÄåÊâßË°åÊú∫Âà∂Áî± Executor Ê°ÜÊû∂Êèê‰æõ„ÄÇ</p>
<h4 id="executorÊ°ÜÊû∂ÁÆÄ‰ªã">ExecutorÊ°ÜÊû∂ÁÆÄ‰ªã</h4>
<hr>
<p><strong>ExecutorÊ°ÜÊû∂ÁöÑ‰∏§Á∫ßË∞ÉÂ∫¶Ê®°Âûã</strong></p>
<p>Âú®HotSpot VMÁöÑÁ∫øÁ®ãÊ®°Âûã‰∏≠ÔºåJavaÁ∫øÁ®ãË¢´‰∏ÄÂØπ‰∏ÄÊò†Â∞Ñ‰∏∫Êú¨Âú∞Êìç‰ΩúÁ≥ªÁªüÁ∫øÁ®ã„ÄÇJavaÁ∫øÁ®ãÂêØÂä®Êó∂‰ºöÂàõÂª∫‰∏Ä‰∏™Êú¨Âú∞Êìç‰ΩúÁ≥ªÁªüÁ∫øÁ®ãÔºõÂΩìJavaÁ∫øÁ®ãÁªàÊ≠¢Êó∂ÔºåËøô‰∏™Êìç‰ΩúÁ≥ªÁªüÁ∫øÁ®ã‰πü‰ºöË¢´ÂõûÊî∂„ÄÇÊìç‰ΩúÁ≥ªÁªü‰ºöË∞ÉÁî®ÊâÄÊúâÁ∫øÁ®ãÂ∞Ü‰ªñ‰ª¨ÂàÜÈÖçÁªôÂèØÁî®ÁöÑCPU„ÄÇ</p>
<p>ÂèØ‰ª•Â∞ÜÊ≠§ÁßçÊ®°ÂºèÂàÜ‰∏∫‰∏§Â±ÇÔºåÂú®‰∏äÂ±ÇÔºåJavaÂ§öÁ∫øÁ®ãÁ®ãÂ∫èÈÄöÂ∏∏ÊääÂ∫îÁî®Á®ãÂ∫èÂàÜËß£‰∏∫Ëã•Âπ≤‰ªªÂä°ÔºåÁÑ∂Âêé‰ΩøÁî®Áî®Êà∑Á∫ßÁöÑË∞ÉÂ∫¶Âô®ÔºàExecutorÊ°ÜÊû∂ÔºâÂ∞ÜËøô‰∫õ‰ªªÂä°Êò†Â∞Ñ‰∏∫Âõ∫ÂÆöÊï∞ÈáèÁöÑÁ∫øÁ®ãÔºõÂú®Â∫ïÂ±ÇÔºåÊìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏Â∞ÜËøô‰∫õÁ∫øÁ®ãÊò†Â∞ÑÂà∞Á°¨‰ª∂Â§ÑÁêÜÂô®‰∏ä„ÄÇ</p>
<p>‰∏§Á∫ßË∞ÉÂ∫¶Ê®°ÂûãÁ§∫ÊÑèÂõæÔºö</p>
<figure data-type="image" tabindex="1"><img src="https://raw.githubusercontent.com/jike-leiSong/img/master/img/Executor.png" alt=""></figure>
<p>‰ªéÂõæ‰∏≠ÁúãÂá∫ÔºåËØ•Ê°ÜÊû∂Áî®Êù•ÊéßÂà∂Â∫îÁî®Á®ãÂ∫èÁöÑ‰∏äÂ±ÇË∞ÉÂ∫¶Ôºà‰∏ãÂ±ÇË∞ÉÂ∫¶Áî±Êìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏ÊéßÂà∂Ôºå‰∏çÂèóÂ∫îÁî®Á®ãÂ∫èÁöÑÊéßÂà∂Ôºâ„ÄÇ</p>
<p><strong>ExecutorÊ°ÜÊû∂ÁöÑÁªìÊûÑÂíåÊàêÂëò</strong></p>
<ul>
<li>ExecutorÊ°ÜÊû∂ÁöÑÁªìÊûÑ</li>
</ul>
<ol>
<li>‰ªªÂä°</li>
</ol>
<blockquote>
<p>ÂåÖÊã¨Ë¢´ÊâßË°å‰ªªÂä°ÈúÄË¶ÅÂÆûÁé∞ÁöÑÊé•Âè£ÔºöRunnable Êé•Âè£ Âíå Callable Êé•Âè£</p>
</blockquote>
<ol start="2">
<li>‰ªªÂä°ÁöÑÊâßË°å</li>
</ol>
<blockquote>
<p>ÂåÖÊã¨‰ªªÂä°ÊâßË°åÊú∫Âà∂ÁöÑÊ†∏ÂøÉÊé•Âè£ ExecutorÔºå‰ª•ÂèäÁªßÊâøËá™ Executor ÁöÑ ExecutorService Êé•Âè£„ÄÇ<br>
ExecutorÊ°ÜÊû∂Êúâ‰∏§‰∏™ÂÖ≥ÈîÆÁ±ªÂÆûÁé∞‰∫ÜExecutorServiceÊé•Âè£ÔºöThreadPoolExecutor Âíå ScheduledThreadPoolExecutor</p>
</blockquote>
<ol start="3">
<li>ÂºÇÊ≠•ËÆ°ÁÆóÁªìÊûú</li>
</ol>
<blockquote>
<p>ÂåÖÊã¨ Future Âíå ÂÆûÁé∞ Future Êé•Âè£ÁöÑ FutureTask Á±ª„ÄÇ</p>
</blockquote>
<ul>
<li>ExecutorÊ°ÜÊû∂ÁöÑÁ±ª‰∏éÊé•Âè£</li>
</ul>
<p>Á§∫ÊÑèÂõæÔºö</p>
<figure data-type="image" tabindex="2"><img src="https://raw.githubusercontent.com/jike-leiSong/img/master/img/Executor-1.png" alt=""></figure>
<blockquote>
<ul>
<li>Executor ÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂÆÉÊòØ Executor Ê°ÜÊû∂ÁöÑÂü∫Á°ÄÔºåÂÆÉÂ∞Ü <font color="red">‰ªªÂä°ÁöÑÊèê‰∫§</font>Âíå<font color="red">‰ªªÂä°ÁöÑÊâßË°å</font>ÂàÜÁ¶ª„ÄÇ</li>
<li>ThreadPoolExecutor ÊòØÁ∫øÁ®ãÊ±†ÁöÑÊ†∏ÂøÉÂÆûÁé∞Á±ªÔºåÁî®Êù•ÊâßË°åË¢´Êèê‰∫§ÁöÑ‰ªªÂä°„ÄÇ</li>
<li>ScheduledThreadPoolExecutor ÊòØ‰∏Ä‰∏™ÂÆûÁé∞Á±ªÔºåÂèØ‰ª•Âú®ÁªôÂÆöÁöÑÂª∂ËøüÂêéËøêË°åÂëΩ‰ª§ÔºåÊàñËÄÖÂÆöÊúüÊâßË°åÂëΩ‰ª§„ÄÇScheduledThreadPoolExecutor ÊØî Timer Êõ¥ÁÅµÊ¥ªÔºåÊõ¥Âº∫Â§ß„ÄÇ</li>
<li>Future Êé•Âè£ÂíåÂÆÉÁöÑÂÆûÁé∞Á±ª FutureTask Á±ªÔºå‰ª£Ë°®ÂºÇÊ≠•ÁöÑËÆ°ÁÆóÁªìÊûú„ÄÇ</li>
<li>Runnable Âíå Callable Êé•Âè£ÁöÑÂÆûÁé∞Á±ªÔºåÈÉΩÂèØ‰ª•Ë¢´ ThreadPoolExecutor Êàñ ScheduledThreadPoolExecutor ÊâßË°å„ÄÇ</li>
</ul>
</blockquote>
<p><strong>ExecutorÊ°ÜÊû∂ÁöÑ‰ΩøÁî®</strong></p>
<p>ÂÖàÊù•Áúã‰∏™ÂõæÔºö</p>
<figure data-type="image" tabindex="3"><img src="https://raw.githubusercontent.com/jike-leiSong/img/master/img/Executor-2.png" alt=""></figure>
<ol>
<li>‰∏ªÁ∫øÁ®ãÈ¶ñÂÖàË¶ÅÂàõÂª∫ÂÆûÁé∞ Runnable Êé•Âè£Êàñ Callable Êé•Âè£ÁöÑ‰ªªÂä°ÂØπË±°„ÄÇÂ∑•ÂÖ∑Á±ª Executors ÂèØ‰ª•Êää‰∏Ä‰∏™ Runnable ÂØπË±°Â∞ÅË£Ö‰∏∫‰∏Ä‰∏™ Callable Êé•Âè£„ÄÇ</li>
</ol>
<pre><code class="language-java">Executors.callable(Runnale task);
Êàñ
Executors.callable(Runnable task, Object resule);
</code></pre>
<ol start="2">
<li>ÁÑ∂ÂêéÂèØ‰ª•Êää Runnable ÂØπË±°Áõ¥Êé•‰∫§Áªô ExecutorService ÊâßË°å„ÄÇ</li>
</ol>
<pre><code class="language-java">ExecutorService.execute(Runnable command);
ÊàñËÄÖ‰πüÂèØ‰ª•ÊääRunnableÂØπË±°ÊàñCallableÂØπË±°Êèê‰∫§ÁªôExecutorServiceÊâßË°å
ExecutorService.submit(Runnable task);
</code></pre>
<p>Â¶ÇÊûúÊâßË°å ExecutorService.submit(...),ExecutorServiceÂ∞ÜËøîÂõû‰∏Ä‰∏™ÂÆûÁé∞ Future Êé•Âè£ÁöÑÂØπË±°(Âà∞ÁõÆÂâç‰∏∫Ê≠¢ÁöÑJDK‰∏≠ÔºåËøîÂõûÁöÑÊòØFutureTaskÂØπË±°)„ÄÇÁî±‰∫é FutureTask ÂÆûÁé∞‰∫Ü Runnable Êé•Âè£ÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫ FutureTask Á±ªÔºåÁÑ∂ÂêéÁõ¥Êé•‰∫§Áªô ExecutorService ÊâßË°å„ÄÇ</p>
<ol start="3">
<li>ÊúÄÂêéÔºå‰∏ªÁ∫øÁ®ãÂèØ‰ª•ÊâßË°å FutureTask.get() ÊñπÊ≥ïÊù•Á≠âÂæÖ‰ªªÂä°ÁöÑÊâßË°åÂÆåÊàê„ÄÇ‰∏ªÁ∫øÁ®ã‰πüÂèØ‰ª•ÊâßË°å FutureTask.cancel(boolean mayInterruptIfRunning)Êù•ÂèñÊ∂àÊ≠§‰ªªÂä°ÁöÑÊâßË°å„ÄÇ</li>
</ol>
<h4 id="threadpoolexecutorËØ¶Ëß£">ThreadPoolExecutorËØ¶Ëß£</h4>
<hr>
<p>ExecutorÊ°ÜÊû∂ÊúÄÊ†∏ÂøÉÁöÑÁ±ªÊòØThreadPoolExecutor</p>
<p><strong>ThreadPoolExecutorÁöÑÁªÑ‰ª∂ÊûÑÊàê</strong></p>
<ul>
<li>corePoolÔºöÊ†∏ÂøÉÁ∫øÁ®ãÊ±†Â§ßÂ∞è</li>
<li>maximumpoolÔºöÊúÄÂ§ßÁ∫øÁ®ãÊ±†Â§ßÂ∞è</li>
<li>BlockingQueueÔºöÁî®Êù•ÊöÇÊó∂‰øùÂ≠ò‰ªªÂä°ÁöÑÂ∑•‰ΩúÈòüÂàó</li>
<li>RejectedExecutionHandlerÔºöÂΩìThreadPoolExecutorÂ∑≤ÁªèÂÖ≥Èó≠ÊàñThreadPoolExecutorÂ∑≤ÁªèÈ•±ÂíåÊó∂(ËææÂà∞‰∫ÜÊúÄÂ§ßÁ∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞è‰∏îÂ∑•‰ΩúÈòüÂàóÂ∑≤Êª°)Ôºåexecute()ÊñπÊ≥ïÂ∞ÜË¶ÅË∞ÉÁî®ÁöÑHandler„ÄÇ</li>
</ul>
<p><strong>Executor ÂèØ ‰ª• Âàõ Âª∫ 3 Áßç Á±ª Âûã ÁöÑ ThreadPoolExecutor Á∫ø Á®ã Ê±†Ôºö</strong></p>
<ol>
<li>FixedThreadPool</li>
</ol>
<blockquote>
<p>ÂàõÂª∫Âõ∫ÂÆöÈïøÂ∫¶ÁöÑÁ∫øÁ®ãÊ±†ÔºåÊØèÊ¨°Êèê‰∫§‰ªªÂä°ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÔºåÁõ¥Âà∞ËææÂà∞Á∫øÁ®ãÊ±†ÁöÑÊúÄÂ§ßÊï∞ÈáèÔºåÁ∫øÁ®ãÊ±†ÁöÑÂ§ßÂ∞è‰∏çÂú®ÂèòÂåñ„ÄÇ<br>
Ëøô‰∏™Á∫øÁ®ãÊ±†ÂèØ‰ª•ÂàõÂª∫Âõ∫ÂÆöÁöÑÁ∫øÁ®ãÊï∞ÁöÑÁ∫øÁ®ãÊ±†„ÄÇ<font color="red">ÁâπÁÇπÊòØÂèØ‰ª•ÈáçÁî®Âõ∫ÂÆöÊï∞ÈáèÁ∫øÁ®ãÁöÑÁ∫øÁ®ãÊ±†</font>„ÄÇÂÆÉÁöÑÊûÑÈÄ†Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºö</p>
</blockquote>
<pre><code class="language-java">public static ExecutorService newFixedThreadPool(int nThreads) { 
        return new ThreadPoolExecutor(nThreads, nThreads, 0L,
                                      TimeUnit.MILLISECONDS, 
                                      new LinkedBlockingQueue&lt;Runnable&gt;()); 
} 
</code></pre>
<ul>
<li>FixedThreadPoolÁöÑcorePoolSizeÂíåmaxiumPoolSizeÈÉΩË¢´ËÆæÁΩÆ‰∏∫ÂàõÂª∫FixedThreadPoolÊó∂ÊåáÂÆöÁöÑÂèÇÊï∞nThreads„ÄÇ</li>
<li>0LÂàôË°®Á§∫ÂΩìÁ∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÊï∞ÈáèÊìç‰ΩúÊ†∏ÂøÉÁ∫øÁ®ãÁöÑÊï∞ÈáèÊó∂ÔºåÂ§ö‰ΩôÁöÑÁ∫øÁ®ãÂ∞ÜË¢´Á´ãÂç≥ÂÅúÊ≠¢</li>
<li>ÊúÄÂêé‰∏Ä‰∏™ÂèÇÊï∞Ë°®Á§∫FixedThreadPool‰ΩøÁî®‰∫ÜÊó†ÁïåÈòüÂàóLinkedBlockingQueue‰Ωú‰∏∫Á∫øÁ®ãÊ±†ÁöÑÂÅöÂ∑•ÈòüÂàóÔºåÁî±‰∫éÊòØÊó†ÁïåÁöÑÔºåÂΩìÁ∫øÁ®ãÊ±†ÁöÑÁ∫øÁ®ãÊï∞ËææÂà∞corePoolSizeÂêéÔºåÊñ∞‰ªªÂä°Â∞ÜÂú®Êó†ÁïåÈòüÂàó‰∏≠Á≠âÂæÖÔºåÂõ†Ê≠§Á∫øÁ®ãÊ±†ÁöÑÁ∫øÁ®ãÊï∞Èáè‰∏ç‰ºöË∂ÖËøácorePoolSizeÔºåÂêåÊó∂maxiumPoolSize‰πüÂ∞±ÂèòÊàê‰∫Ü‰∏Ä‰∏™Êó†ÊïàÁöÑÂèÇÊï∞ÔºåÂπ∂‰∏îËøêË°å‰∏≠ÁöÑÁ∫øÁ®ãÊ±†Âπ∂‰∏ç‰ºöÊãíÁªù‰ªªÂä°„ÄÇ</li>
</ul>
<p>FixedThreadPoolËøêË°åÂõæÂ¶Ç‰∏ã:</p>
<figure data-type="image" tabindex="4"><img src="https://raw.githubusercontent.com/jike-leiSong/img/master/img/Executor-3.png" alt=""></figure>
<p>ÊâßË°åËøáÁ®ãÂ¶Ç‰∏ãÔºö</p>
<blockquote>
<ol>
<li>Â¶ÇÊûúÂΩìÂâçÂ∑•‰Ωú‰∏≠ÁöÑÁ∫øÁ®ãÊï∞Â∞ë‰∫écorePoolÁöÑÊï∞ÈáèÔºåÂ∞±ÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°„ÄÇ</li>
<li>ÂΩìÁ∫øÁ®ãÊ±†ÁöÑÂ∑•‰Ωú‰∏≠ÁöÑÁ∫øÁ®ãÊï∞ÈáèËææÂà∞‰∫ÜcorePoolÔºåÂàôÂ∞Ü‰ªªÂä°Âä†ÂÖ•Âà∞ LinkedBlockingQueue„ÄÇ</li>
<li>Á∫øÁ®ãÊâßË°åÂÆå1‰∏≠ÁöÑ‰ªªÂä°Âêé‰ªéÈòüÂàó‰∏≠Âéª‰ªªÂä°„ÄÇ</li>
</ol>
</blockquote>
<p>Ê≥®ÊÑèÔºö<font color="red">LinkedBlockingQueueÊòØÊó†ÁïåÈòüÂàóÔºåÊâÄ‰ª•ÂèØ‰ª•‰∏ÄÁõ¥Ê∑ªÂä†Êñ∞‰ªªÂä°Âà∞Á∫øÁ®ãÊ±†„ÄÇ</font></p>
<ol start="2">
<li>SingleThreadExecutor</li>
</ol>
<p>SingleThreadExecutorÊòØ‰ΩøÁî®Âçï‰∏™workerÁ∫øÁ®ãÁöÑExecutor„ÄÇ<font color="red">ÁâπÁÇπÊòØ‰ΩøÁî®Âçï‰∏™Â∑•‰ΩúÁ∫øÁ®ãÊâßË°å‰ªªÂä°„ÄÇ</font>ÂÆÉÁöÑÊûÑÈÄ†Ê∫êÁ†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public static ExecutorService newSingleThreadExecutor() {
        return new FinalizableDelegatedExecutorService
            (new ThreadPoolExecutor(1, 1,
                                    0L, TimeUnit.MILLISECONDS,
                                    new LinkedBlockingQueue&lt;Runnable&gt;()));
}
</code></pre>
<p>SingleThreadExecutorÁöÑcorePoolSizeÂíåmaxiumPoolSizeÈÉΩË¢´ËÆæÁΩÆ1„ÄÇ<br>
ÂÖ∂‰ªñÂèÇÊï∞Âùá‰∏éFixedThreadPoolÁõ∏ÂêåÔºåÂÖ∂ËøêË°åÂõæÂ¶Ç‰∏ãÔºö</p>
<figure data-type="image" tabindex="5"><img src="https://raw.githubusercontent.com/jike-leiSong/img/master/img/Executor-4.png" alt=""></figure>
<p>ÊâßË°åËøáÁ®ãÂ¶Ç‰∏ãÔºö</p>
<blockquote>
<ol>
<li>Â¶ÇÊûúÂΩìÂâçÂ∑•‰Ωú‰∏≠ÁöÑÁ∫øÁ®ãÊï∞Â∞ë‰∫écorePoolÁöÑÊï∞ÈáèÔºåÂ∞±ÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°„ÄÇ</li>
<li>ÂΩìÁ∫øÁ®ãÊ±†ÁöÑÂ∑•‰Ωú‰∏≠ÁöÑÁ∫øÁ®ãÊï∞ÈáèËææÂà∞‰∫ÜcorePoolÔºåÂàôÂ∞Ü‰ªªÂä°Âä†ÂÖ•Âà∞ LinkedBlockingQueue„ÄÇ</li>
<li>Á∫øÁ®ãÊâßË°åÂÆå1‰∏≠ÁöÑ‰ªªÂä°Âêé‰ªéÈòüÂàó‰∏≠Âéª‰ªªÂä°„ÄÇ</li>
</ol>
</blockquote>
<p>Ê≥®ÊÑèÔºö<font color="red">LinkedBlockingQueueÊòØÊó†ÁïåÈòüÂàóÔºåÊâÄ‰ª•ÂèØ‰ª•‰∏ÄÁõ¥Ê∑ªÂä†Êñ∞‰ªªÂä°Âà∞Á∫øÁ®ãÊ±†„ÄÇ</font></p>
<ol start="3">
<li>CachedThreadPool</li>
</ol>
<p>CachedThreadPoolÊòØ‰∏Ä‰∏™‚ÄùÊó†Èôê‚ÄúÂÆπÈáèÁöÑÁ∫øÁ®ãÊ±†ÔºåÂÆÉ‰ºöÊ†πÊçÆÈúÄË¶ÅÂàõÂª∫Êñ∞Á∫øÁ®ã„ÄÇ<font color="red">ÁâπÁÇπÊòØÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÊù•ÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÊâßË°å‰ªªÂä°ÔºåÊ≤°ÊúâÁâπÂÆöÁöÑcorePool„ÄÇ</font>‰∏ãÈù¢ÊòØÂÆÉÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºö</p>
<pre><code class="language-java"> public static ExecutorService newCachedThreadPool() {
        return new ThreadPoolExecutor(0, Integer.MAX_VALUE,
                                      60L, TimeUnit.SECONDS,
                                      new SynchronousQueue&lt;Runnable&gt;());
}
</code></pre>
<p>CachedThreadPoolÁöÑcorePoolSizeË¢´ËÆæÁΩÆ‰∏∫0ÔºåÂç≥corePool‰∏∫Á©∫ÔºõmaximumPoolSizeË¢´ËÆæÁΩÆ‰∏∫Integer.MAX_VALUEÔºåÂç≥maximumÊòØÊó†ÁïåÁöÑ„ÄÇËøôÈáåkeepAliveTimeËÆæÁΩÆ‰∏∫60ÁßíÔºåÊÑèÂë≥ÁùÄÁ©∫Èó≤ÁöÑÁ∫øÁ®ãÊúÄÂ§öÂèØ‰ª•Á≠âÂæÖ‰ªªÂä°60ÁßíÔºåÂê¶ÂàôÂ∞ÜË¢´ÂõûÊî∂„ÄÇ</p>
<p>CachedThreadPool‰ΩøÁî®Ê≤°ÊúâÂÆπÈáèÁöÑSynchronousQueue‰Ωú‰∏∫‰∏ªÁ∫øÁ®ãÊ±†ÁöÑÂ∑•‰ΩúÈòüÂàóÔºåÂÆÉÊòØ‰∏Ä‰∏™Ê≤°ÊúâÂÆπÈáèÁöÑÈòªÂ°ûÈòüÂàó„ÄÇÊØè‰∏™ÊèíÂÖ•Êìç‰ΩúÂøÖÈ°ªÁ≠âÂæÖÂè¶‰∏Ä‰∏™Á∫øÁ®ãÁöÑÂØπÂ∫îÁßªÈô§Êìç‰Ωú„ÄÇËøôÊÑèÂë≥ÁùÄÔºå<font color="red">Â¶ÇÊûú‰∏ªÁ∫øÁ®ãÊèê‰∫§‰ªªÂä°ÁöÑÈÄüÂ∫¶È´ò‰∫éÁ∫øÁ®ãÊ±†‰∏≠Â§ÑÁêÜ‰ªªÂä°ÁöÑÈÄüÂ∫¶Êó∂ÔºåCachedThreadPool‰ºö‰∏çÊñ≠ÂàõÂª∫Êñ∞Á∫øÁ®ã„ÄÇÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÔºåCachedThreadPool‰ºöÂõ†‰∏∫ÂàõÂª∫ËøáÂ§öÁ∫øÁ®ãËÄåËÄóÂ∞ΩCPUËµÑÊ∫ê„ÄÇ</font>ÂÖ∂ËøêË°åÂõæÂ¶Ç‰∏ãÔºö</p>
<figure data-type="image" tabindex="6"><img src="https://raw.githubusercontent.com/jike-leiSong/img/master/img/Executor-5.png" alt=""></figure>
<p>ÊâßË°åËøáÁ®ãÂ¶Ç‰∏ãÔºö</p>
<blockquote>
<p>1.È¶ñÂÖàÊâßË°åSynchronousQueue.offer(Runnable task)„ÄÇÂ¶ÇÊûúÂú®ÂΩìÂâçÁöÑÁ∫øÁ®ãÊ±†‰∏≠ÊúâÁ©∫Èó≤ÁöÑÁ∫øÁ®ãÊ≠£Âú®ÊâßË°åSynchronousQueue.poll()ÔºåÈÇ£‰πà‰∏ªÁ∫øÁ®ãÊâßË°åÁöÑofferÊìç‰Ωú‰∏éÁ©∫Èó≤Á∫øÁ®ãÊâßË°åÁöÑpollÊìç‰ΩúÈÖçÂØπÊàêÂäüÔºå‰∏ªÁ∫øÁ®ãÊää‰ªªÂä°‰∫§ÁªôÁ©∫Èó≤Á∫øÁ®ãÊâßË°å„ÄÇÔºåexecute()ÊñπÊ≥ïÊâßË°åÊàêÂäüÔºåÂê¶ÂàôÊâßË°åÊ≠•È™§2<br>
2.ÂΩìÁ∫øÁ®ãÊ±†‰∏∫Á©∫(ÂàùÂßãmaximumPool‰∏∫Á©∫)ÊàñÊ≤°ÊúâÁ©∫Èó≤Á∫øÁ®ãÊó∂ÔºåÈÖçÂØπÂ§±Ë¥•ÔºåÂ∞ÜÊ≤°ÊúâÁ∫øÁ®ãÊâßË°åSynchronousQueue.pollÊìç‰Ωú„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÁ∫øÁ®ãÊ±†‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ãÊâßË°å‰ªªÂä°„ÄÇ<br>
3.Âú®ÂàõÂª∫ÂÆåÊñ∞ÁöÑÁ∫øÁ®ã‰ª•ÂêéÔºåÂ∞Ü‰ºöÊâßË°åpollÊìç‰Ωú„ÄÇÂΩìÊ≠•È™§2ÁöÑÁ∫øÁ®ãÊâßË°åÂÆåÊàêÂêéÔºåÂ∞ÜÁ≠âÂæÖ60ÁßíÔºåÂ¶ÇÊûúÊ≠§Êó∂‰∏ªÁ∫øÁ®ãÊèê‰∫§‰∫Ü‰∏Ä‰∏™Êñ∞‰ªªÂä°ÔºåÈÇ£‰πàËøô‰∏™Á©∫Èó≤Á∫øÁ®ãÂ∞ÜÊâßË°åÊñ∞‰ªªÂä°ÔºåÂê¶ÂàôË¢´ÂõûÊî∂„ÄÇÂõ†Ê≠§ÈïøÊó∂Èó¥‰∏çÊèê‰∫§‰ªªÂä°ÁöÑCachedThreadPool‰∏ç‰ºöÂç†Áî®Á≥ªÁªüËµÑÊ∫ê„ÄÇ</p>
</blockquote>
<p>SynchronousQueueÊòØ‰∏Ä‰∏™‰∏çÂ≠òÂÇ®ÂÖÉÁ¥†ÈòªÂ°ûÈòüÂàóÔºåÊØèÊ¨°Ë¶ÅËøõË°åofferÊìç‰ΩúÊó∂ÂøÖÈ°ªÁ≠âÂæÖpollÊìç‰ΩúÔºåÂê¶Âàô‰∏çËÉΩÁªßÁª≠Ê∑ªÂä†ÂÖÉÁ¥†„ÄÇ</p>
<p>ÂèÇËÄÉ‰π¶Á±çÔºö„ÄäJavaÂπ∂ÂèëÁºñÁ®ãÁöÑËâ∫ÊúØ„ÄãÔºå„ÄäJavaÂπ∂ÂèëÁºñÁ®ãÂÆûÊàò„ÄãÔºå„ÄäJavaÈ´òÂπ∂ÂèëÁ®ãÂ∫èËÆæËÆ°„Äã</p>
 </p>
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                              <div class="next-post">
                                  <div class="next">‰∏ã‰∏ÄÁØá</div>
                                  <a href="https://jike-leisong.github.io//post/Spring‰∏≠ÈÖçÁΩÆÊï∞ÊçÆÊ∫êÁöÑ4ÁßçÂΩ¢Âºè">
                                      <h3 class="post-title">
                                          Spring‰∏≠ÈÖçÁΩÆÊï∞ÊçÆÊ∫êÁöÑ4ÁßçÂΩ¢Âºè
                                      </h3>
                                  </a>
                              </div>
                          
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                      </div>
                  </div>
              </div>

          </article>
      </div>
  </div>

    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></p>
</footer>


    
<!-- jQuery -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/md5.min.js"></script>

<script type="application/javascript">
    hljs.initHighlightingOnLoad();
</script>




  </body>
</html>
