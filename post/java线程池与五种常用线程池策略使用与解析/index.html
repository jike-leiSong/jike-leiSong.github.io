<!DOCTYPE html>
<html>
  <head>
      
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>itme.ink</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="Ê∏©ÊïÖËÄåÁü•Êñ∞"/>
<meta name="keywords" content="Ê∏©ÊïÖËÄåÁü•Êñ∞"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://jike-leisong.github.io//favicon.ico">

<link rel="stylesheet" href="https://jike-leisong.github.io//styles/main.css">

<!-- Modernizr JS -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://jike-leisong.github.io//media/scripts/_vendors/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/tomorrow-night.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<link crossorigin="anonymous" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" href="https://lib.baomitu.com/font-awesome/5.8.1/css/all.min.css" rel="stylesheet">

  </head>
  <body>
  
<div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://jike-leisong.github.io//media/images/avatar.png" alt="itme.ink" class="img-responsive">
        </figure>
        <h3 class="heading">ABOUT ME</h3>
        <h2>itme.ink</h2>
        <p>Ê∏©ÊïÖËÄåÁü•Êñ∞</p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">
        <div class="fh5co-box">
            <h3 class="heading">ÊêúÁ¥¢</h3>
            <form action="#">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="ËæìÂÖ•ÂÖ≥ÈîÆÂ≠ó">
                </div>
            </form>
        </div>
        <div class="fh5co-box">
            <h3 class="heading">Ê†áÁ≠æ</h3>
            <ul>
                
                    <li><a href="https://jike-leisong.github.io//tag/ZMreOtewG">MVC</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/2RK0lyPtw">DB</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/hJqNul-if">Spring Cloud</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/mian-shi-ti">Èù¢ËØïÈ¢ò</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/yYzItG4Us">ËÆæËÆ°Ê®°Âºè</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/2VvjfMCS1">Ê∫êÁ†ÅÂàÜÊûê</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/duo-xian-cheng">Â§öÁ∫øÁ®ã</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/xiao-xi">Ê∂àÊÅØ</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/0WBzoU1G-">Mybatis</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/sOMy5ZlVw">ÂàÜÂ∏ÉÂºè</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/tool">Tool</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/suan-fa">ÁÆóÊ≥ï</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/tomact">Tomact</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/linux">Linux</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/MzKEL8HsE">Spring</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/boot">Boot</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/JUSmlN723">Git</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/netty">Netty</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/kua-yu">Ë∑®Âüü</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/xing-neng-diao-you">ÊÄßËÉΩË∞É‰ºò</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/java">Java</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/redis">Redis</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/shu-ju-ku">Êï∞ÊçÆÂ∫ì</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/lei-jia-zai">Á±ªÂä†ËΩΩ</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/jia-gou">Êû∂ÊûÑ</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/soa">SOA</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/zookeeper">Zookeeper</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/shu-ju-yuan">Êï∞ÊçÆÊ∫ê</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/fen-bu-shi-shi-wu">ÂàÜÂ∏ÉÂºè‰∫ãÂä°</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/sql">SQL</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/mabatis">Mabatis</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/hashmap">HashMap</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/cloud">Cloud</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/huan-cun">ÁºìÂ≠ò</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/session">Session</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/cron">Cron</a></li>
                
                    <li><a href="https://jike-leisong.github.io//tag/mi-deng-xing">ÂπÇÁ≠âÊÄß</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                         >
                            È¶ñÈ°µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                         >
                            ÂΩíÊ°£
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                         >
                            Ê†áÁ≠æ
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                         >
                            ÂÖ≥‰∫é
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://jike-leisong.github.io/">itme.ink</a>
                </h1>
            </div>
        </div>
    </div>
</header>


<!--  <a href="#" class="fh5co-post-prev"><span>üëà Prev</span></a>-->
<!--  <a href="#" class="fh5co-post-next"><span>Next üëâ</span></a>-->

  <div class="container-fluid">
      <div class="row fh5co-post-entry single-entry">
          <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
              <figure class="animate-box">
                  
              </figure>
              <span class="fh5co-meta animate-box">
                  
                      <div class="tag-container">
                          
                              <a href="https://jike-leisong.github.io//tag/duo-xian-cheng" class="tag">Â§öÁ∫øÁ®ã, </a>
                          
                      </div>
                  
              </span>
              <h2 class="fh5co-article-title animate-box">javaÁ∫øÁ®ãÊ±†‰∏é‰∫îÁßçÂ∏∏Áî®Á∫øÁ®ãÊ±†Á≠ñÁï•‰ΩøÁî®‰∏éËß£Êûê</h2>
              <span class="fh5co-meta fh5co-date animate-box">2019-06-05</span>

              <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                  <div class="row">
                      <div class="col-md-12 animate-box post-content">
                          <p> <h4 id="‰∏ÄÁ∫øÁ®ãÊ±†">‰∏Ä.Á∫øÁ®ãÊ±†</h4>
<p>ÂÖ≥‰∫é‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®Á∫øÁ®ãÊ±†‰πÖ‰∏çËµòËø∞‰∫ÜÔºåÈ¶ñÂÖàÁúã‰∏Ä‰∏ãjava‰∏≠‰Ωú‰∏∫Á∫øÁ®ãÊ±†ExecutorÂ∫ïÂ±ÇÂÆûÁé∞Á±ªÁöÑThredPoolExecutorÁöÑÊûÑÈÄ†ÂáΩÊï∞</p>
<pre><code class="language-java">public ThreadPoolExecutor(int corePoolSize,
                              int maximumPoolSize,
                              long keepAliveTime,
                              TimeUnit unit,
                              BlockingQueue&lt;Runnable&gt; workQueue,
                              ThreadFactory threadFactory,
                              RejectedExecutionHandler handler) {
       ...
    }
</code></pre>
<p>ÂÖ∂‰∏≠ÂêÑ‰∏™ÂèÇÊï∞Âê´‰πâÂ¶Ç‰∏ãÔºö</p>
<p><strong>corePoolSize</strong> - Ê±†‰∏≠ÊâÄ‰øùÂ≠òÁöÑÁ∫øÁ®ãÊï∞ÔºåÂåÖÊã¨Á©∫Èó≤Á∫øÁ®ã„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂú®ÂàùÂàõÂª∫Á∫øÁ®ãÊ±†Êó∂Á∫øÁ®ã‰∏ç‰ºöÁ´ãÂç≥ÂêØÂä®ÔºåÁõ¥Âà∞Êúâ‰ªªÂä°Êèê‰∫§ÊâçÂºÄÂßãÂêØÂä®Á∫øÁ®ãÂπ∂ÈÄêÊ∏êÊó∂Á∫øÁ®ãÊï∞ÁõÆËææÂà∞corePoolSize„ÄÇËã•ÊÉ≥‰∏ÄÂºÄÂßãÂ∞±ÂàõÂª∫ÊâÄÊúâÊ†∏ÂøÉÁ∫øÁ®ãÈúÄË∞ÉÁî®prestartAllCoreThreadsÊñπÊ≥ï„ÄÇ</p>
<p><strong>maximumPoolSize</strong> - Ê±†‰∏≠ÂÖÅËÆ∏ÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂΩìÊ†∏ÂøÉÁ∫øÁ®ãÊª°‰∏îÈòªÂ°ûÈòüÂàó‰πüÊª°Êó∂Êâç‰ºöÂà§Êñ≠ÂΩìÂâçÁ∫øÁ®ãÊï∞ÊòØÂê¶Â∞è‰∫éÊúÄÂ§ßÁ∫øÁ®ãÊï∞ÔºåÂπ∂ÂÜ≥ÂÆöÊòØÂê¶ÂàõÂª∫Êñ∞Á∫øÁ®ã„ÄÇ</p>
<p><strong>keepAliveTime</strong> -  ÂΩìÁ∫øÁ®ãÊï∞Â§ß‰∫éÊ†∏ÂøÉÊó∂ÔºåÂ§ö‰∫éÁöÑÁ©∫Èó≤Á∫øÁ®ãÊúÄÂ§öÂ≠òÊ¥ªÊó∂Èó¥</p>
<p><strong>unit</strong> -  keepAliveTime ÂèÇÊï∞ÁöÑÊó∂Èó¥Âçï‰Ωç„ÄÇ</p>
<p><strong>workQueue</strong> - ÂΩìÁ∫øÁ®ãÊï∞ÁõÆË∂ÖËøáÊ†∏ÂøÉÁ∫øÁ®ãÊï∞Êó∂Áî®‰∫é‰øùÂ≠ò‰ªªÂä°ÁöÑÈòüÂàó„ÄÇ‰∏ªË¶ÅÊúâ3ÁßçÁ±ªÂûãÁöÑBlockingQueueÂèØ‰æõÈÄâÊã©ÔºöÊó†ÁïåÈòüÂàóÔºåÊúâÁïåÈòüÂàóÂíåÂêåÊ≠•Áßª‰∫§„ÄÇÂ∞ÜÂú®‰∏ãÊñá‰∏≠ËØ¶ÁªÜÈòêËø∞„ÄÇ‰ªéÂèÇÊï∞‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåÊ≠§ÈòüÂàó‰ªÖ‰øùÂ≠òÂÆûÁé∞RunnableÊé•Âè£ÁöÑ‰ªªÂä°„ÄÇ</p>
<p><strong>threadFactory</strong> - ÊâßË°åÁ®ãÂ∫èÂàõÂª∫Êñ∞Á∫øÁ®ãÊó∂‰ΩøÁî®ÁöÑÂ∑•ÂéÇ„ÄÇ</p>
<p><strong>handler</strong> - ÈòªÂ°ûÈòüÂàóÂ∑≤Êª°‰∏îÁ∫øÁ®ãÊï∞ËææÂà∞ÊúÄÂ§ßÂÄºÊó∂ÊâÄÈááÂèñÁöÑÈ•±ÂíåÁ≠ñÁï•„ÄÇjavaÈªòËÆ§Êèê‰æõ‰∫Ü4ÁßçÈ•±ÂíåÁ≠ñÁï•ÁöÑÂÆûÁé∞ÊñπÂºèÔºö‰∏≠Ê≠¢„ÄÅÊäõÂºÉ„ÄÅÊäõÂºÉÊúÄÊóßÁöÑ„ÄÅË∞ÉÁî®ËÄÖËøêË°å„ÄÇÂ∞ÜÂú®‰∏ãÊñá‰∏≠ËØ¶ÁªÜÈòêËø∞„ÄÇ</p>
<h4 id="‰∫åÂèØÈÄâÊã©ÁöÑÈòªÂ°ûÈòüÂàóblockingqueueËØ¶Ëß£">‰∫å.ÂèØÈÄâÊã©ÁöÑÈòªÂ°ûÈòüÂàóBlockingQueueËØ¶Ëß£</h4>
<p>È¶ñÂÖàÁúã‰∏Ä‰∏ãÊñ∞‰ªªÂä°ËøõÂÖ•Êó∂Á∫øÁ®ãÊ±†ÁöÑÊâßË°åÁ≠ñÁï•Ôºö
Â¶ÇÊûúËøêË°åÁöÑÁ∫øÁ®ãÂ∞ë‰∫écorePoolSizeÔºåÂàô ExecutorÂßãÁªàÈ¶ñÈÄâÊ∑ªÂä†Êñ∞ÁöÑÁ∫øÁ®ãÔºåËÄå‰∏çËøõË°åÊéíÈòü„ÄÇÔºàÂ¶ÇÊûúÂΩìÂâçËøêË°åÁöÑÁ∫øÁ®ãÂ∞è‰∫écorePoolSizeÔºåÂàô‰ªªÂä°Ê†πÊú¨‰∏ç‰ºöÂ≠òÂÖ•queue‰∏≠ÔºåËÄåÊòØÁõ¥Êé•ËøêË°åÔºâ
Â¶ÇÊûúËøêË°åÁöÑÁ∫øÁ®ãÂ§ß‰∫éÁ≠â‰∫é corePoolSizeÔºåÂàô ExecutorÂßãÁªàÈ¶ñÈÄâÂ∞ÜËØ∑Ê±ÇÂä†ÂÖ•ÈòüÂàóÔºåËÄå‰∏çÊ∑ªÂä†Êñ∞ÁöÑÁ∫øÁ®ã„ÄÇ
Â¶ÇÊûúÊó†Ê≥ïÂ∞ÜËØ∑Ê±ÇÂä†ÂÖ•ÈòüÂàóÔºåÂàôÂàõÂª∫Êñ∞ÁöÑÁ∫øÁ®ãÔºåÈô§ÈùûÂàõÂª∫Ê≠§Á∫øÁ®ãË∂ÖÂá∫ maximumPoolSizeÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰ªªÂä°Â∞ÜË¢´ÊãíÁªù„ÄÇ
‰∏ªË¶ÅÊúâ3ÁßçÁ±ªÂûãÁöÑBlockingQueueÔºö</p>
<p><strong>2.1 Êó†ÁïåÈòüÂàó</strong>
ÈòüÂàóÂ§ßÂ∞èÊó†ÈôêÂà∂ÔºåÂ∏∏Áî®ÁöÑ‰∏∫Êó†ÁïåÁöÑLinkedBlockingQueueÔºå‰ΩøÁî®ËØ•ÈòüÂàóÂÅö‰∏∫ÈòªÂ°ûÈòüÂàóÊó∂Ë¶ÅÂ∞§ÂÖ∂ÂΩìÂøÉÔºåÂΩì‰ªªÂä°ËÄóÊó∂ËæÉÈïøÊó∂ÂèØËÉΩ‰ºöÂØºËá¥Â§ßÈáèÊñ∞‰ªªÂä°Âú®ÈòüÂàó‰∏≠Â†ÜÁßØÊúÄÁªàÂØºËá¥OOM„ÄÇÊúÄËøëÂ∑•‰Ωú‰∏≠Â∞±ÈÅáÂà∞Âõ†‰∏∫ÈááÁî®LinkedBlockingQueue‰Ωú‰∏∫ÈòªÂ°ûÈòüÂàóÔºåÈÉ®ÂàÜ‰ªªÂä°ËÄóÊó∂80sÔºã‰∏î‰∏çÂÅúÊúâÊñ∞‰ªªÂä°ËøõÊù•ÔºåÂØºËá¥cpuÂíåÂÜÖÂ≠òÈ£ôÂçáÊúçÂä°Âô®ÊåÇÊéâ„ÄÇ</p>
<p><strong>2.2 ÊúâÁïåÈòüÂàó</strong>
Â∏∏Áî®ÁöÑÊúâ‰∏§Á±ªÔºå‰∏ÄÁ±ªÊòØÈÅµÂæ™FIFOÂéüÂàôÁöÑÈòüÂàóÂ¶ÇArrayBlockingQueue‰∏éÊúâÁïåÁöÑLinkedBlockingQueueÔºåÂè¶‰∏ÄÁ±ªÊòØ‰ºòÂÖàÁ∫ßÈòüÂàóÂ¶ÇPriorityBlockingQueue„ÄÇPriorityBlockingQueue‰∏≠ÁöÑ‰ºòÂÖàÁ∫ßÁî±‰ªªÂä°ÁöÑComparatorÂÜ≥ÂÆö„ÄÇ
‰ΩøÁî®ÊúâÁïåÈòüÂàóÊó∂ÈòüÂàóÂ§ßÂ∞èÈúÄÂíåÁ∫øÁ®ãÊ±†Â§ßÂ∞è‰∫íÁõ∏ÈÖçÂêàÔºåÁ∫øÁ®ãÊ±†ËæÉÂ∞èÊúâÁïåÈòüÂàóËæÉÂ§ßÊó∂ÂèØÂáèÂ∞ëÂÜÖÂ≠òÊ∂àËÄóÔºåÈôç‰Ωécpu‰ΩøÁî®ÁéáÂíå‰∏ä‰∏ãÊñáÂàáÊç¢Ôºå‰ΩÜÊòØÂèØËÉΩ‰ºöÈôêÂà∂Á≥ªÁªüÂêûÂêêÈáè„ÄÇ</p>
<p><strong>2.3 ÂêåÊ≠•Áßª‰∫§</strong>
Â¶ÇÊûú‰∏çÂ∏åÊúõ‰ªªÂä°Âú®ÈòüÂàó‰∏≠Á≠âÂæÖËÄåÊòØÂ∏åÊúõÂ∞Ü‰ªªÂä°Áõ¥Êé•Áßª‰∫§ÁªôÂ∑•‰ΩúÁ∫øÁ®ãÔºåÂèØ‰ΩøÁî®SynchronousQueue‰Ωú‰∏∫Á≠âÂæÖÈòüÂàó„ÄÇSynchronousQueue‰∏çÊòØ‰∏Ä‰∏™ÁúüÊ≠£ÁöÑÈòüÂàóÔºåËÄåÊòØ‰∏ÄÁßçÁ∫øÁ®ã‰πãÈó¥Áßª‰∫§ÁöÑÊú∫Âà∂„ÄÇË¶ÅÂ∞Ü‰∏Ä‰∏™ÂÖÉÁ¥†ÊîæÂÖ•SynchronousQueue‰∏≠ÔºåÂøÖÈ°ªÊúâÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊ≠£Âú®Á≠âÂæÖÊé•Êî∂Ëøô‰∏™ÂÖÉÁ¥†„ÄÇÂè™ÊúâÂú®‰ΩøÁî®Êó†ÁïåÁ∫øÁ®ãÊ±†ÊàñËÄÖÊúâÈ•±ÂíåÁ≠ñÁï•Êó∂ÊâçÂª∫ËÆÆ‰ΩøÁî®ËØ•ÈòüÂàó„ÄÇ</p>
<p><strong>2.4 Âá†ÁßçBlockingQueueÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÂéüÁêÜ</strong>
ÂÖ≥‰∫é‰∏äËø∞Âá†ÁßçBlockingQueueÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÂéüÁêÜ‰∏éÂàÜÊûêÂ∞ÜÂú®‰∏ãÁØáÂçöÊñá‰∏≠ËØ¶ÁªÜÈòêËø∞„ÄÇ</p>
<h4 id="‰∏âÂèØÈÄâÊã©ÁöÑÈ•±ÂíåÁ≠ñÁï•rejectedexecutionhandlerËØ¶Ëß£">‰∏â.ÂèØÈÄâÊã©ÁöÑÈ•±ÂíåÁ≠ñÁï•RejectedExecutionHandlerËØ¶Ëß£</h4>
<p>JDK‰∏ªË¶ÅÊèê‰æõ‰∫Ü4ÁßçÈ•±ÂíåÁ≠ñÁï•‰æõÈÄâÊã©„ÄÇ4ÁßçÁ≠ñÁï•ÈÉΩÂÅö‰∏∫ÈùôÊÄÅÂÜÖÈÉ®Á±ªÂú®ThreadPoolExcutor‰∏≠ËøõË°åÂÆûÁé∞„ÄÇ</p>
<p><strong>3.1 AbortPolicy‰∏≠Ê≠¢Á≠ñÁï•</strong>
ËØ•Á≠ñÁï•ÊòØÈªòËÆ§È•±ÂíåÁ≠ñÁï•„ÄÇ</p>
<pre><code class="language-java">  public void rejectedExecution(Runnable r, ThreadPoolExecutor e) {
            throw new RejectedExecutionException(&quot;Task &quot; + r.toString() +
                                                 &quot; rejected from &quot; +
                                                 e.toString());
        }
</code></pre>
<p>‰ΩøÁî®ËØ•Á≠ñÁï•Êó∂Âú®È•±ÂíåÊó∂‰ºöÊäõÂá∫RejectedExecutionExceptionÔºàÁªßÊâøËá™RuntimeExceptionÔºâÔºåË∞ÉÁî®ËÄÖÂèØÊçïËé∑ËØ•ÂºÇÂ∏∏Ëá™Ë°åÂ§ÑÁêÜ.</p>
<p><strong>3.2 DiscardPolicyÊäõÂºÉÁ≠ñÁï•</strong></p>
<pre><code class="language-java"> public void rejectedExecution(Runnable r, ThreadPoolExecutor e) {
        }
</code></pre>
<p><strong>3.3 DiscardOldestPolicyÊäõÂºÉÊóß‰ªªÂä°Á≠ñÁï•</strong></p>
<pre><code class="language-java">public void rejectedExecution(Runnable r, ThreadPoolExecutor e) {
            if (!e.isShutdown()) {
                e.getQueue().poll();
                e.execute(r);
            }
        }
</code></pre>
<p>Â¶Ç‰ª£Á†ÅÔºåÂÖàÂ∞ÜÈòªÂ°ûÈòüÂàó‰∏≠ÁöÑÂ§¥ÂÖÉÁ¥†Âá∫ÈòüÊäõÂºÉÔºåÂÜçÂ∞ùËØïÊèê‰∫§‰ªªÂä°„ÄÇÂ¶ÇÊûúÊ≠§Êó∂ÈòªÂ°ûÈòüÂàó‰ΩøÁî®PriorityBlockingQueue‰ºòÂÖàÁ∫ßÈòüÂàóÔºåÂ∞Ü‰ºöÂØºËá¥‰ºòÂÖàÁ∫ßÊúÄÈ´òÁöÑ‰ªªÂä°Ë¢´ÊäõÂºÉÔºåÂõ†Ê≠§‰∏çÂª∫ËÆÆÂ∞ÜËØ•ÁßçÁ≠ñÁï•ÈÖçÂêà‰ºòÂÖàÁ∫ßÈòüÂàó‰ΩøÁî®„ÄÇ</p>
<p><strong>3.4 CallerRunsPolicyË∞ÉÁî®ËÄÖËøêË°å</strong></p>
<pre><code class="language-java">public void rejectedExecution(Runnable r, ThreadPoolExecutor e) {
            if (!e.isShutdown()) {
                r.run();
            }
        }
</code></pre>
<p>Êó¢‰∏çÊäõÂºÉ‰ªªÂä°‰πü‰∏çÊäõÂá∫ÂºÇÂ∏∏ÔºåÁõ¥Êé•ËøêË°å‰ªªÂä°ÁöÑrunÊñπÊ≥ïÔºåÊç¢Ë®Ä‰πãÂ∞Ü‰ªªÂä°ÂõûÈÄÄÁªôË∞ÉÁî®ËÄÖÊù•Áõ¥Êé•ËøêË°å„ÄÇ‰ΩøÁî®ËØ•Á≠ñÁï•Êó∂Á∫øÁ®ãÊ±†È•±ÂíåÂêéÂ∞ÜÁî±Ë∞ÉÁî®Á∫øÁ®ãÊ±†ÁöÑ‰∏ªÁ∫øÁ®ãËá™Â∑±Êù•ÊâßË°å‰ªªÂä°ÔºåÂõ†Ê≠§Âú®ÊâßË°å‰ªªÂä°ÁöÑËøôÊÆµÊó∂Èó¥Èáå‰∏ªÁ∫øÁ®ãÊó†Ê≥ïÂÜçÊèê‰∫§Êñ∞‰ªªÂä°Ôºå‰ªéËÄå‰ΩøÁ∫øÁ®ãÊ±†‰∏≠Â∑•‰ΩúÁ∫øÁ®ãÊúâÊó∂Èó¥Â∞ÜÊ≠£Âú®Â§ÑÁêÜÁöÑ‰ªªÂä°Â§ÑÁêÜÂÆåÊàê„ÄÇ</p>
<h4 id="ÂõõjavaÊèê‰æõÁöÑÂõõÁßçÂ∏∏Áî®Á∫øÁ®ãÊ±†Ëß£Êûê">Âõõ.javaÊèê‰æõÁöÑÂõõÁßçÂ∏∏Áî®Á∫øÁ®ãÊ±†Ëß£Êûê</h4>
<p><font color="red">Âú®JDKÂ∏ÆÂä©ÊñáÊ°£‰∏≠ÔºåÊúâÂ¶ÇÊ≠§‰∏ÄÊÆµËØùÔºö</font></p>
<pre><code>    Âº∫ÁÉàÂª∫ËÆÆÁ®ãÂ∫èÂëò‰ΩøÁî®ËæÉ‰∏∫Êñπ‰æøÁöÑExecutorsÂ∑•ÂéÇÊñπÊ≥ïExecutors.newCachedThreadPool()ÔºàÊó†ÁïåÁ∫øÁ®ãÊ±†ÔºåÂèØ‰ª•ËøõË°åËá™Âä®Á∫øÁ®ãÂõûÊî∂Ôºâ„ÄÅExecutors.newFixedThreadPool(int)ÔºàÂõ∫ÂÆöÂ§ßÂ∞èÁ∫øÁ®ãÊ±†ÔºâExecutors.newSingleThreadExecutor()ÔºàÂçï‰∏™ÂêéÂè∞Á∫øÁ®ãÔºâÂÆÉ‰ª¨Âùá‰∏∫Â§ßÂ§öÊï∞‰ΩøÁî®Âú∫ÊôØÈ¢ÑÂÆö‰πâ‰∫ÜËÆæÁΩÆ„ÄÇ
</code></pre>
<p><strong>4.1 newCachedThreadPool</strong></p>
<pre><code class="language-java">public static ExecutorService newCachedThreadPool() {
        return new ThreadPoolExecutor(0, Integer.MAX_VALUE,
                                      60L, TimeUnit.SECONDS,
                                      new SynchronousQueue&lt;Runnable&gt;());
    }
</code></pre>
<p>Âú®newCachedThreadPool‰∏≠Â¶ÇÊûúÁ∫øÁ®ãÊ±†ÈïøÂ∫¶Ë∂ÖËøáÂ§ÑÁêÜÈúÄË¶ÅÔºåÂèØÁÅµÊ¥ªÂõûÊî∂Á©∫Èó≤Á∫øÁ®ãÔºåËã•Êó†ÂèØÂõûÊî∂ÔºåÂàôÊñ∞Âª∫Á∫øÁ®ã„ÄÇ
ÂàùÁúãËØ•ÊûÑÈÄ†ÂáΩÊï∞Êó∂ÊàëÊúâËøôÊ†∑ÁöÑÁñëÊÉëÔºöÊ†∏ÂøÉÁ∫øÁ®ãÊ±†‰∏∫0ÔºåÈÇ£ÊåâÁÖßÂâçÈù¢ÊâÄËÆ≤ÁöÑÁ∫øÁ®ãÊ±†Á≠ñÁï•Êñ∞‰ªªÂä°Êù•‰∏¥Êó∂Êó†Ê≥ïËøõÂÖ•Ê†∏ÂøÉÁ∫øÁ®ãÊ±†ÔºåÂè™ËÉΩËøõÂÖ• SynchronousQueue‰∏≠ËøõË°åÁ≠âÂæÖÔºåËÄåSynchronousQueueÁöÑÂ§ßÂ∞è‰∏∫1ÔºåÈÇ£Â≤Ç‰∏çÊòØÁ¨¨‰∏Ä‰∏™‰ªªÂä°Âà∞ËææÊó∂Âè™ËÉΩÁ≠âÂæÖÂú®ÈòüÂàó‰∏≠ÔºåÁõ¥Âà∞Á¨¨‰∫å‰∏™‰ªªÂä°Âà∞ËææÂèëÁé∞Êó†Ê≥ïËøõÂÖ•ÈòüÂàóÊâçËÉΩÂàõÂª∫Á¨¨‰∏Ä‰∏™Á∫øÁ®ãÔºü
Ëøô‰∏™ÈóÆÈ¢òÁöÑÁ≠îÊ°àÂú®‰∏äÈù¢ËÆ≤SynchronousQueueÊó∂ÂÖ∂ÂÆûÂ∑≤ÁªèÁªôÂá∫‰∫ÜÔºåË¶ÅÂ∞Ü‰∏Ä‰∏™ÂÖÉÁ¥†ÊîæÂÖ•SynchronousQueue‰∏≠ÔºåÂøÖÈ°ªÊúâÂè¶‰∏Ä‰∏™Á∫øÁ®ãÊ≠£Âú®Á≠âÂæÖÊé•Êî∂Ëøô‰∏™ÂÖÉÁ¥†„ÄÇÂõ†Ê≠§Âç≥‰æøSynchronousQueue‰∏ÄÂºÄÂßã‰∏∫Á©∫‰∏îÂ§ßÂ∞è‰∏∫1ÔºåÁ¨¨‰∏Ä‰∏™‰ªªÂä°‰πüÊó†Ê≥ïÊîæÂÖ•ÂÖ∂‰∏≠ÔºåÂõ†‰∏∫Ê≤°ÊúâÁ∫øÁ®ãÂú®Á≠âÂæÖ‰ªéSynchronousQueue‰∏≠ÂèñËµ∞ÂÖÉÁ¥†„ÄÇÂõ†Ê≠§Á¨¨‰∏Ä‰∏™‰ªªÂä°Âà∞ËææÊó∂‰æø‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÊâßË°åËØ•‰ªªÂä°„ÄÇ
ËøôÈáåÂºïÁî≥Âá∫‰∏Ä‰∏™Â∞èÊäÄÂ∑ßÔºöÊúâÊó∂Êàë‰ª¨ÂèØËÉΩÂ∏åÊúõÁ∫øÁ®ãÊ±†Âú®Ê≤°Êúâ‰ªªÂä°ÁöÑÊÉÖÂÜµ‰∏ãÈîÄÊØÅÊâÄÊúâÁöÑÁ∫øÁ®ãÔºåÊó¢ËÆæÁΩÆÁ∫øÁ®ãÊ±†Ê†∏ÂøÉÂ§ßÂ∞è‰∏∫0Ôºå‰ΩÜÂèà‰∏çÊÉ≥‰ΩøÁî®SynchronousQueueËÄåÊòØÊÉ≥‰ΩøÁî®ÊúâÁïåÁöÑÁ≠âÂæÖÈòüÂàó„ÄÇÊòæÁÑ∂Ôºå‰∏çËøõË°å‰ªª‰ΩïÁâπÊÆäËÆæÁΩÆÁöÑËØùËøôÊ†∑ÁöÑÁî®Ê≥ï‰ºöÂèëÁîüÂ•áÊÄ™ÁöÑË°å‰∏∫ÔºöÁõ¥Âà∞Á≠âÂæÖÈòüÂàóË¢´Â°´Êª°Êâç‰ºöÊúâÊñ∞Á∫øÁ®ãË¢´ÂàõÂª∫Ôºå‰ªªÂä°ÊâçÂºÄÂßãÊâßË°å„ÄÇËøôÂπ∂‰∏çÊòØÊàë‰ª¨Â∏åÊúõÁúãÂà∞ÁöÑÔºåÊ≠§Êó∂ÂèØÈÄöËøáallowCoreThreadTimeOut‰ΩøÁ≠âÂæÖÈòüÂàó‰∏≠ÁöÑÂÖÉÁ¥†Âá∫ÈòüË¢´Ë∞ÉÁî®ÊâßË°åÔºåËØ¶ÁªÜÂéüÁêÜÂíå‰ΩøÁî®Â∞Ü‰ºöÂú®ÂêéÁª≠ÂçöÂÆ¢‰∏≠ÈòêËø∞„ÄÇ</p>
<p><strong>4.2 newFixedThreadPool</strong></p>
<p>ÂàõÂª∫‰∏Ä‰∏™ÂÆöÈïøÁ∫øÁ®ãÊ±†ÔºåÂèØÊéßÂà∂Á∫øÁ®ãÊúÄÂ§ßÂπ∂ÂèëÊï∞ÔºåË∂ÖÂá∫ÁöÑÁ∫øÁ®ã‰ºöÂú®ÈòüÂàó‰∏≠Á≠âÂæÖ„ÄÇ</p>
<pre><code class="language-java">public static ExecutorService newFixedThreadPool(int nThreads) {
        return new ThreadPoolExecutor(nThreads, nThreads,
                                      0L, TimeUnit.MILLISECONDS,
                                      new LinkedBlockingQueue&lt;Runnable&gt;());
    }
</code></pre>
<p>Áúã‰ª£Á†Å‰∏ÄÁõÆ‰∫ÜÁÑ∂‰∫ÜÔºå‰ΩøÁî®Âõ∫ÂÆöÂ§ßÂ∞èÁöÑÁ∫øÁ®ãÊ±†Âπ∂‰ΩøÁî®Êó†ÈôêÂ§ßÁöÑÈòüÂàó</p>
<p><strong>4.3 newScheduledThreadPool</strong>
ÂàõÂª∫‰∏Ä‰∏™ÂÆöÈïøÁ∫øÁ®ãÊ±†ÔºåÊîØÊåÅÂÆöÊó∂ÂèäÂë®ÊúüÊÄß‰ªªÂä°ÊâßË°å„ÄÇ</p>
<pre><code class="language-java">public static ScheduledExecutorService newScheduledThreadPool(int corePoolSize) {
        return new ScheduledThreadPoolExecutor(corePoolSize);
    }
</code></pre>
<p>Âú®Êù•ÁúãÁúãScheduledThreadPoolExecutorÔºàÔºâÁöÑÊûÑÈÄ†ÂáΩÊï∞</p>
<pre><code class="language-java">public ScheduledThreadPoolExecutor(int corePoolSize) {
        super(corePoolSize, Integer.MAX_VALUE, 0, NANOSECONDS,
              new DelayedWorkQueue());
    }
</code></pre>
<p>ScheduledThreadPoolExecutorÁöÑÁà∂Á±ªÂç≥ThreadPoolExecutorÔºåÂõ†Ê≠§ËøôÈáåÂêÑÂèÇÊï∞Âê´‰πâÂíå‰∏äÈù¢‰∏ÄÊ†∑„ÄÇÂÄºÂæóÂÖ≥ÂøÉÁöÑÊòØDelayedWorkQueueËøô‰∏™ÈòªÂ°ûÂØπÂàóÔºåÂú®‰∏äÈù¢Ê≤°Êúâ‰ªãÁªçÔºåÂÆÉ‰Ωú‰∏∫ÈùôÊÄÅÂÜÖÈÉ®Á±ªÂ∞±Âú®ScheduledThreadPoolExecutor‰∏≠ËøõË°å‰∫ÜÂÆûÁé∞„ÄÇÂÖ∑‰ΩìÂàÜÊûêËÆ≤‰ºöÂú®ÂêéÁª≠ÂçöÂÆ¢‰∏≠ÁªôÂá∫ÔºåÂú®ËøôÈáåÂè™ËøõË°åÁÆÄÂçïËØ¥ÊòéÔºöDelayedWorkQueueÊòØ‰∏Ä‰∏™Êó†ÁïåÈòüÂàóÔºåÂÆÉËÉΩÊåâ‰∏ÄÂÆöÁöÑÈ°∫Â∫èÂØπÂ∑•‰ΩúÈòüÂàó‰∏≠ÁöÑÂÖÉÁ¥†ËøõË°åÊéíÂàó„ÄÇÂõ†Ê≠§ËøôÈáåËÆæÁΩÆÁöÑÊúÄÂ§ßÁ∫øÁ®ãÊï∞ Integer.MAX_VALUEÊ≤°Êúâ‰ªª‰ΩïÊÑè‰πâ„ÄÇÂÖ≥‰∫éScheduledThreadPoolExecutorÁöÑÂÖ∑‰Ωì‰ΩøÁî®Â∞Ü‰ºöÂú®ÂêéÁª≠quartzÁöÑÂë®ÊúüÊÄß‰ªªÂä°ÂÆûÁé∞ÂéüÁêÜ‰∏≠ËøõË°åËøõ‰∏ÄÊ≠•ÂàÜÊûê„ÄÇ</p>
<p><strong>4.4 newSingleThreadExecutor</strong></p>
<p>ÂàõÂª∫‰∏Ä‰∏™ÂçïÁ∫øÁ®ãÂåñÁöÑÁ∫øÁ®ãÊ±†ÔºåÂÆÉÂè™‰ºöÁî®ÂîØ‰∏ÄÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÊù•ÊâßË°å‰ªªÂä°Ôºå‰øùËØÅÊâÄÊúâ‰ªªÂä°ÊåâÁÖßÊåáÂÆöÈ°∫Â∫è(FIFO, LIFO, ‰ºòÂÖàÁ∫ß)ÊâßË°å„ÄÇ</p>
<pre><code class="language-java">public static ScheduledExecutorService newSingleThreadScheduledExecutor() {
        return new DelegatedScheduledExecutorService
            (new ScheduledThreadPoolExecutor(1));
    }
</code></pre>
<p>È¶ñÂÖànew‰∫Ü‰∏Ä‰∏™Á∫øÁ®ãÊï∞ÁõÆ‰∏∫1ÁöÑScheduledThreadPoolExecutorÔºåÂÜçÊääËØ•ÂØπË±°‰º†ÂÖ•DelegatedScheduledExecutorService‰∏≠ÔºåÁúãÁúãDelegatedScheduledExecutorServiceÁöÑÂÆûÁé∞‰ª£Á†ÅÔºö</p>
<pre><code class="language-java">DelegatedScheduledExecutorService(ScheduledExecutorService executor) {
            super(executor);
            e = executor;
        }
</code></pre>
<p>Âú®ÁúãÁúãÂÆÉÁöÑÁà∂Á±ª</p>
<pre><code class="language-java">DelegatedExecutorService(ExecutorService executor) { e = executor; }
</code></pre>
<p>ÂÖ∂ÂÆûÂ∞±ÊòØ‰ΩøÁî®Ë£ÖÈ•∞Ê®°ÂºèÂ¢ûÂº∫‰∫ÜScheduledExecutorServiceÔºà1ÔºâÁöÑÂäüËÉΩÔºå‰∏ç‰ªÖÁ°Æ‰øùÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÈ°∫Â∫èÊâßË°å‰ªªÂä°Ôºå‰πü‰øùËØÅÁ∫øÁ®ãÊÑèÂ§ñÁªàÊ≠¢Âêé‰ºöÈáçÊñ∞ÂàõÂª∫‰∏Ä‰∏™Á∫øÁ®ãÁªßÁª≠ÊâßË°å‰ªªÂä°„ÄÇÂÖ∑‰ΩìÂÆûÁé∞ÂéüÁêÜ‰ºöÂú®ÂêéÁª≠ÂçöÂÆ¢‰∏≠ËÆ≤Ëß£„ÄÇ</p>
<p><strong>4.5 newWorkStealingPool</strong>
ÂàõÂª∫‰∏Ä‰∏™Êã•ÊúâÂ§ö‰∏™‰ªªÂä°ÈòüÂàóÔºà‰ª•‰æøÂáèÂ∞ëËøûÊé•Êï∞ÔºâÁöÑÁ∫øÁ®ãÊ±†„ÄÇ</p>
<p>ËøôÊòØjdk1.8‰∏≠Êñ∞Â¢ûÂä†ÁöÑ‰∏ÄÁßçÁ∫øÁ®ãÊ±†ÂÆûÁé∞ÔºåÂÖàÁúã‰∏Ä‰∏ãÂÆÉÁöÑÊó†ÂèÇÂÆûÁé∞</p>
<pre><code class="language-java">public static ExecutorService newWorkStealingPool() {
        return new ForkJoinPool
            (Runtime.getRuntime().availableProcessors(),
             ForkJoinPool.defaultForkJoinWorkerThreadFactory,
             null, true);
    }
</code></pre>
 </p>
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                              <div class="next-post">
                                  <div class="next">‰∏ã‰∏ÄÁØá</div>
                                  <a href="https://jike-leisong.github.io//post/Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÈòüÂàóÁöÑÂèØÈù†ÊÄß‰º†Ëæì">
                                      <h3 class="post-title">
                                          Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÈòüÂàóÁöÑÂèØÈù†ÊÄß‰º†Ëæì
                                      </h3>
                                  </a>
                              </div>
                          
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                      </div>
                  </div>
              </div>

          </article>
      </div>
  </div>

    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></p>
</footer>


    
<!-- jQuery -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://jike-leisong.github.io//media/scripts/_vendors/md5.min.js"></script>

<script type="application/javascript">
    hljs.initHighlightingOnLoad();
</script>




  </body>
</html>
