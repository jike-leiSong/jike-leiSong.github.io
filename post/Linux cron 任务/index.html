<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>在linux加入cron任务 | itme.ink</title>
<meta name="description" content="温故而知新">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://jike-leisong.github.io//favicon.ico?v=1567410101249">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://jike-leisong.github.io//styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://jike-leisong.github.io/">
        <img src="https://jike-leisong.github.io//images/avatar.png?v=1567410101249" class="site-logo">
        <h1 class="site-title">itme.ink</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      温故而知新
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://jike-leisong.github.io//atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">在linux加入cron任务</h2>
            <div class="post-date">2017-11-09</div>
            
            <div class="post-content">
              <h3 id="在linux加入cron任务">在linux加入cron任务</h3>
<p>** 提问： **</p>
<p>我想在我的Linux中安排一个计划任务，该任务在固定时间周期性运行。我该如何在Linux中添加一个cron任务？</p>
<p>** 什么是cron **</p>
<blockquote>
<p>cron是Linux中默认的计划任务。实用cron，你可以安排一个计划（比如：命令或者shell脚本）周期性地运行或者在指定的分钟、小时、天、周、月等特定时间运行。cron在你安排不同的常规维护任务时是很有用的，比如周期性的备份、日志循环、检查文件系统、检测磁盘空间等等。</p>
</blockquote>
<p><img src="http://www.linuxidc.com/upload/2015_02/150223094058671.jpg" alt="image"></p>
<p>（题图来自 eagleapex.com）</p>
<p>** 1、从命令行中添加cron任务 **</p>
<p>要添加cron任务，你可以使用称为 crontab 的命令行工具。</p>
<p>输入下面的命令会创建一个当前用户运行的新cron任务：</p>
<pre><code>$ crontab -e
</code></pre>
<p>如果你想要以其他用户运行cron任务，输入下面命令：</p>
<pre><code>$ sudo crontab -u &lt;username&gt; -e
</code></pre>
<p>你将会看见一个文本编辑器窗口，这里你可以添加或编辑cron任务。默认使用nono编辑器。</p>
<p><img src="http://www.linuxidc.com/upload/2015_02/150223094058672.jpg" alt="image"></p>
<p>** 每个cron任务的格式如下：</p>
<pre><code>&lt;分钟&gt;&lt;小时&gt;&lt;日&gt;&lt;月&gt;&lt;星期&gt;&lt;命令&gt;
</code></pre>
<p><em>前5个元素定义了任务的计划，最后一个元素是命令或者脚本的完整路径。</em></p>
<p><img src="http://www.linuxidc.com/upload/2015_02/150223094058673.jpg" alt="image"></p>
<p>下面一些cron任务示例：</p>
<pre><code>* * * * * /home/dan/bin/script.sh: 每分钟运行。
0 * * * * /home/dan/bin/script.sh: 每小时运行。
0 0 * * * /home/dan/bin/script.sh: 每天零点运行。
0 9,18 * * * /home/dan/bin/script.sh: 在每天的9AM和6PM运行。
0 9-18 * * * /home/dan/bin/script.sh: 在9AM到6PM的每个小时运行。
0 9-18 * * 1-5 /home/dan/bin/script.sh: 周一到周五的9AM到6PM每小时运行。
*/10 * * * * /home/dan/bin/script.sh: 每10分钟运行。
</code></pre>
<p>一旦完成上面的设置步骤后，按下Ctrl+X来保存并退出编辑器。此时，新增的计划任务应该已经激活了。</p>
<p>** 要查看存在的计划任务，使用下面的命令：</p>
<pre><code>$ crontab -l
</code></pre>
<p>** 2、从GUI添加计划任务 **</p>
<p>如果你在Linux桌面环境中，你可以使用crontab的更加友好的GUI前端来添加或者添加一个cron任务。</p>
<p>在Gnome桌面中，有一个Gnome Schedule（gnome-schedule包）。</p>
<p><img src="http://www.linuxidc.com/upload/2015_02/150223094058674.jpg" alt="image"></p>
<p>在KDE桌面中，有一个Task Scheduler（kcron包）。</p>
<p><img src="http://www.linuxidc.com/upload/2015_02/150223094058675.jpg" alt="image"></p>
<p>Linux中利用crontab创建计划任务 http://www.linuxidc.com//Linux/2013-06/86401.htm</p>
<p>Linux中用crontab例行工作安排 http://www.linuxidc.com//Linux/2013-06/85441.htm</p>
<p>Linux crontab不执行问题排查 http://www.linuxidc.com//Linux/2013-06/85432.htm</p>
<p>Ubuntu使用crontab定时任务 http://www.linuxidc.com//Linux/2013-05/84770.htm</p>
<p>Linux计划任务(at batch crontab anacron) http://www.linuxidc.com//Linux/2013-03/81584.htm</p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://jike-leisong.github.io//tag/cron" class="tag">
                    Cron
                  </a>
                
                  <a href="https://jike-leisong.github.io//tag/linux" class="tag">
                    Linux
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://jike-leisong.github.io//post/Redis 基本语法">
                  <h3 class="post-title">
                    Redis 基本语法
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
